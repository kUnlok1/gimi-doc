<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <title>Gimi | Documentation by Josuah</title>

    <link rel="shortcut icon" href="images/icon-and.png" type="image/x-icon">

    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/stroke.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/prettyPhoto.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shCore.css" media="all">
    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shThemeRDark.css" media="all">

    <!-- CUSTOM -->
    <link rel="stylesheet" type="text/css" href="css/custom.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>

    <script>
        var mybutton = document.getElementById("myBtn");
        window.onscroll = function() {scrollFunction()};
        function scrollFunction() {
            if (document.body.scrollTop > 1000 || document.documentElement.scrollTop > 1000) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }
        function topFunction() {
            window.scrollTo({ top: 0, behavior: 'smooth' })
            document.documentElement.scrollTo({ top: 0, behavior: 'smooth' })
        }

        document.addEventListener("DOMContentLoaded", () => {
            document.querySelector('#mode').addEventListener('click',()=>{
                document.querySelector('html').classList.toggle('dark');
            })
        });


    </script>

    <div id="wrapper">

        <div id="mode" >
            <div class="dark">
                <svg aria-hidden="true" viewBox="0 0 512 512">
                    <title>lightmode</title>
                    <path fill="currentColor" d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"></path>
                </svg>
            </div>
            <div class="light">
                <svg aria-hidden="true" viewBox="0 0 512 512">
                    <title>darkmode</title>
                    <path fill="currentColor" d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"></path>
                </svg>
            </div>
        </div>

        <div class="container">

            <section id="top" class="section docs-heading">

                <div class="row">
                    <div class="col-md-12">
                        <div class="big-title text-center">
                            <h1>Auvergne Numérique Distribution</h1>
                            <p class="lead">Gimi / Gestion des diagnostics et réparations informatiques</p>
                        </div>
                        <!-- end title -->
                    </div>
                    <!-- end 12 -->
                </div>
                <!-- end row -->

                <hr>

            </section>
            <!-- end section -->

            <div class="row">

                <div class="col-md-3">
                    <nav class="docs-sidebar" data-spy="affix" data-offset-top="300" data-offset-bottom="200" role="navigation">
                        <ul class="nav">
                            <li><a href="#line1">Fichiers et sources</a></li>
                            <li><a href="#line2">Fichier Configuration</a></li>
                            <li><a href="#line3">Installation</a></li>
                            <li><a href="#line4">Importation</a></li>
                            <li><a href="#line5">Tablette</a></li>
                            <li><a href="#line6">Partage d'écran</a></li>
                            <li><a href="#line7">MySQL</a></li>
                        </ul>
                    </nav >
                </div>
                <div class="col-md-9">
                    <section class="welcome">

                        <div class="row">
                            <div class="col-md-12 left-align">
                               <h2 class="dark-text">Introduction<hr></h2>
                                <div class="row">

                                    <div class="col-md-12 full">
                                        <div class="intro1">
                                            <ul>
                                                <li><strong>Nom du projet : </strong>Gimi</li>
                                                <li><strong>Version : </strong> v 2.0</li>
                                                <li><strong>Auteur  : </strong> Wehlan Josuah</li>
                                            </ul>
                                        </div>
                                        <div>
                                        <br><br>
                                        </div>
                                    </div>

                                </div>
                                <!-- end row -->
                            </div>
                        </div>
                    </section>


                    <section id="line1" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Fichiers et sources<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <ul>
                            <li>1. Applications/config.php - Fichier de conf (e-mail, sql, etc)</li>
                            <li>2. Content/upload - Stockage des fichiers.csv</li>
                            <li>3. Content/pdf - Stockage des PDF</li>
                        </ul>

                    </section>
                    <!-- end section -->

                    <section id="line2" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Fichier Configuration<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-12">
                                <p>Ce fichier contient les infos de l'entreprise, les paramètres pour se connecter à la base de données SQL et les réglages pour envoyer des mails. <strong>Applications/config.php</strong></p>
                                <h4>Conf SQL</h4>

                                <pre class="brush: html">

                                    // Sql
                                    $config['sql']['host'] = '*******';
                                    $config['sql']['bdd'] = '******';
                                    $config['sql']['user'] = '********';
                                    $config['sql']['pass'] = '*********';
                                    $config['sql']['prefix'] = '******';

                                </pre>
                                <hr>

                                <h4>Conf e-mail</h4>

                                <pre class="brush: html">
                                    $config['mail']['host'] = 'smtp.gmail.com';
                                    $config['mail']['smtp_auth'] = 'true';
                                    $config['mail']['smtp_secure'] = 'tls';
                                    $config['mail']['username'] = '***********@gmail.com';
                                    $config['mail']['password'] = '***************';
                                    $config['mail']['port'] = '587';
                                    $config['mail']['smtp_debug'] = '0';

                                </pre>
                                <hr>
                                
                                <h4>Conf entreprise</h4>

                                <pre class="brush: html">

                                    $config['entreprise']['nom'] = 'SARL AUVERGNE NUMERIQUE DISTRIBUTION';
                                    $config['entreprise']['adresse'] = '24 av Jean Jaures - 03800 Gannat';
                                    $config['entreprise']['tel'] = '04 70 56 58 30';
                                    $config['entreprise']['email'] = 'contact@and3000.com';
                                    $config['entreprise']['siret'] = 'Siret : 5113 525 246 00015';
                                    $config['entreprise']['site'] = "https://and3000.fr/";
                                    $config['entreprise']['horaires'] = "Horaires d'ouvertures : Du lundi au vendredi de 9H00 à 12H00 et de 14H00 à 18H30";
                                    $config['entreprise']['facebook'] = "https://www.facebook.com/p/Auvergne-Num%C3%A9rique-Distribution-And3000-100057736386620";
                                    $config['entreprise']['youtube'] = "https://www.youtube.com/@auvergnenumerique";
                                    $config['entreprise']['linkedin'] = "https://fr.linkedin.com/company/auvergne-numerique-distribution";

                                </pre>
                                <hr>

                                <h4>Autre</h4>

                                <pre class="brush: html">

                                    $config['time_token'] = '3600';   // Temps d'inactivité avant l'obligation de se réidentifier
                                    $config['id_contrat'] = [2, 7, 10]; // Id famille contrat, pour les statistiques

                                </pre>
                            </div>
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->


                    <section id="line3" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Installation<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <ul>
                            <li>1. Montez la base de données grâce à phpMyAdmin.</li>
                            <li>2. Configurez la connexion SQL du logiciel (cf. <a href="#line2">Fichier de configuration</a>).</li>
                            <li>3. Chargez les clients grâce au module d'importation dans le logiciel.</li>
                        </ul>

                    </section>
                    <!-- end section -->

                    
                    <section id="line4" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Importation<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <p>Si le nom des champs sont modifiés dans l'EBP, il faut faire la correspondance pour l'importation. Il est nécessaire de modifier ou de compléter l'array $dataClient ici : <strong>Applications/Controllers/importation.php</strong></p>

                        <pre class="brush: html highlight: [1]">
                            // A gauche, nom dans la base de données (Key) => A droite, nom de la colonne dans le csv (Value)

                            $dataClient = [
                                'Code_tiers'            => $client["Code (tiers)"],
                                'Nom'                   => $client["Nom"],
                                'Civilite'              => $client["Civilité"],
                                'Id_famille'            => $Id_famille,
                                'Adresse'               => $adresse,
                                'CodePostal'            => $client["Code postal (facturation)"],
                                'Ville'                 => $client["Ville (facturation)"],
                                'Departement'           => $client["Département (facturation)"],
                                'TelephoneFixe'         => $client["Téléphone fixe (facturation)"],
                                'TelephonePortable'     => $client["Téléphone portable (facturation)"],
                                'Email'                 => $client["E-mail (facturation)"],
                                'Date_premier_facture'  => $client["Date de première facture"]
                            ];
                        </pre>

                    </section>
                    <!-- end section -->


                    <section id="line5" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Tablette<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <h4>Installez Adobe Acrobat Reader</h4>

                        <div class="row">
                            <div class="col-md-4">
                                <img src="images/upload/adobe-reader-logo.png" alt="" class="img-responsive img-thumbnail">
                            </div>

                            <div class="col-md-8">
                                <h4>Adobe Acrobat Reader pour PDF</h4>
                                <a href="https://play.google.com/store/apps/details?id=com.adobe.reader" class="btn btn-primary">Play Store</a>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <h4>Installez Firefox Nightly for Developers</h4>

                        <div class="row">
                            <div class="col-md-4">
                                <img src="images/upload/firefox.png" alt="" class="img-responsive img-thumbnail">
                            </div>

                            <div class="col-md-8">
                                <h4>Firefox Nightly for Developers</h4>
                                <a href="https://play.google.com/store/apps/details?id=org.mozilla.fenix" class="btn btn-primary">Play Store</a>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <hr>

                        <h4>Configuration de Firefox</h4>

                        <ul>
                            <li>1. Lancez Firefox Nightly et entrez <strong>about:config</strong> dans la barre d'adresse.</li>
                            <li>2. Acceptez l'avertissement.</li>
                            <li>3. Recherchez <strong>layout.css.devPixelsPerPx</strong>.</li>
                            <li>4. Modifiez la valeur de <strong>-1</strong> à <strong>1</strong> pour réduire le zoom.</li>
                        </ul>


                    </section>
                    <!-- end section -->


                    <section id="line6" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Spacedesk<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <div class="row">
                            <div class="col-md-4">
                                <img src="images/upload/spacedesk-logo.png" alt="img-spacedesk" class="img-responsive img-thumbnail">
                            </div>

                            <div class="col-md-8">
                                <h4>Spacedesk - USB Display for PC</h4>
                                <p>Spacedesk permet d'étendre ou de dupliquer le bureau Windows sur l'écran d'une autre machine via le réseau.</p>
                                <a href="https://play.google.com/store/search?q=spaecdesk&c=apps" class="btn btn-success">Android</a>
                                &nbsp;&nbsp;&nbsp;
                                <a href="https://www.spacedesk.net/download/" class="btn btn-primary">Pc</a>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->


                    <section id="line7" class="section">

                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">MySQL<hr></h2>
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->

                        <h4>Triggers</h4>

                        <div class="row">
                            <div class="col-md-12">
                                <p>Un trigger en SQL est une procédure qui s'exécute automatiquement en réponse à un événement spécifique (comme une insertion, mise à jour ou suppression) sur une table ou une vue. Ces triggers permettent de ne pas avoir de Dimi orphelines.</p>
                            
                                <pre class="brush: html">
                                    delimiter $
                                    CREATE TRIGGER TrigDelClient
                                    BEFORE DELETE ON Client 		-- s'exécute avant la suppression d'un client
                                    FOR EACH ROW 					-- pour chaque dimi
                                    BEGIN 
                                        UPDATE Dimi                 -- on met à jour la dimi
                                        SET Id_client = 1			-- on met l'id client à 1
                                        WHERE Id_client = OLD.Id;	-- si l'id actuel correspond au client qui va être supprimé
                                    END;
                                    $
                                    delimiter ;
                                </pre>
        
                                <pre class="brush: html">
                                    delimiter $
                                    CREATE TRIGGER TrigDelPrestation
                                    BEFORE DELETE ON Prestation         -- s'exécute avant la suppression d'une prestation
                                    FOR EACH ROW                        -- pour chaque dimi
                                    BEGIN 
                                        UPDATE Dimi                     -- on met à jour la dimi
                                        SET Id_prestation = 1           -- on met l'id prestation à 1
                                        WHERE Id_prestation = OLD.Id;   -- si l'id actuel correspond à la presta qui va être supprimée
                                    END;
                                    $
                                    delimiter ;
                                </pre>

                                <pre class="brush: html">
                                    delimiter $
                                    CREATE TRIGGER TrigDelFamille
                                    BEFORE DELETE ON Famille        -- s'exécute avant la suppression d'une famille   
                                    FOR EACH ROW                    -- pour chaque client
                                    BEGIN 
                                        UPDATE Client               -- on met à jour le client
                                        SET Id_famille = 1          -- on met l'id famille à 1
                                        WHERE Id_famille = OLD.Id;  -- si l'id actuel correspond à la famille qui va être supprimée
                                    END;
                                    $
                                    delimiter ;
                                </pre>
                            
                            </div>
                        </div>
                        <!-- end row -->

                    </section>
                    <!-- end section -->


                </div>
                <!-- // end .col -->

            </div>
            <!-- // end .row -->

        </div>
        <!-- // end container -->

    </div>
    <!-- end wrapper -->

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/retina.js"></script>
    <script src="js/jquery.fitvids.js"></script>
    <script src="js/wow.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>

    <!-- CUSTOM PLUGINS -->
    <script src="js/custom.js"></script>
    <script src="js/main.js"></script>

    <script src="js/syntax-highlighter/scripts/shCore.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushXml.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushCss.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushJScript.js"></script>

</body>

</html>
